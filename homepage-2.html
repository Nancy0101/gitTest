<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- 引入 Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet" />
    <link href="framework/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link href="css/animate.css" rel="stylesheet" />
    <link href="css/custom.css" rel="stylesheet" />

    <!-- HTML5 Shim 和 Respond.js 用于让 IE8 支持 HTML5元素和媒体查询 -->
    <!-- 注意： 如果通过 file://  引入 Respond.js 文件，则该文件无法起效果 -->
    <!--[if lt IE 9]>          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js" rel="external nofollow" ></script>          <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js" rel="external nofollow" ></script>       <![endif]-->
</head>
<body>
<div id="app">
    <!--    router-view就是组件显示的区域,渲染区域-->
    <transition enter-active-class="animated fadeIn">
        <router-view></router-view>
    </transition>
    <!--    <homecpn v-bind:cgoodlists="goodLists"></homecpn>-->
</div>
<template id="homeTemp">
    <div>
        <topbannercpn>
            <div slot="loc" v-on:click="myFunc(age,$event)">
                <i class="fa fa-map-marker loc" slot="loc"><strong> 东软软件园 </strong><i class="fa fa-caret-down"></i></i>
            </div>

            <div slot="content" class="fixed-top">
                <div class="input-group mb-3 mt-3 col-10 offset-1">
                    <div class="input-group-prepend">
                        <span class="input-group-text"><i class="fa fa-search"></i></span>
                    </div>
                    <input type="text" class="form-control" placeholder="搜索饿了么商家、商品名称">
                </div>
            </div>
        </topbannercpn>
        <typecpn></typecpn>
        <bannercpn></bannercpn>
        <supermembercpn></supermembercpn>
        <recommendcpn></recommendcpn>
        <recommendtypecpn></recommendtypecpn>
        <div class="container-fluid Lists">
            <div class="row text-muted">
                <div class="col-12 col-sm-2">
                    <img src="img/sj01.png" alt="万家饺子馆"/>
                </div>
                <div class="col-8 col-sm-6">
                    <h3 class="font-weight-bolder text-dark">万家饺子（）</h3>
                    <p><i class="fa fa-star text-warning"></i>4.9 月售345单</p>
                    <p><span>新</span>新用户...</p>
                    <p><span>特</span>特价用户...</p>
                </div>
                <div class="col-4 col-sm-4">
                    <p>.</p>
                    <p><span>蜂鸟专送</span></p>
                    <p>3.22km | 30分钟</p>
                    <p><i class="fa fa-arrow-circle-down"></i></p>
                </div>
            </div>
        </div>
        <moucpn></moucpn>
        <mainnavcpn></mainnavcpn>
        <gotopcpn></gotopcpn>
    </div>
</template>
<template id="typeTemp">
    <div class="container-fluid">
        <div class="row">
            <ul>
                <li class="col-12 col-sm-4 col-md-2" v-for="(item,index) in $root.typeLists">
                    <router-link to="/mou">
                        {{item.imgurl}} - {{item.tname}}
                    </router-link>
                </li>
            </ul>
        </div>
    </div>

</template>
<!-- 横幅广告部分 -->
<template id="bannerTemp">
    <div class="banner">
     <h3>品质套餐</h3>
     <p>搭配齐全吃得好</p>
     <a>立即抢购 &gt;</a>
    </div>
</template>
<!-- 超级会员部分 -->
<template id="supermemberTemp">
<div class="supermemberTemp">
    <div class="left">
        <img src="img/super_member.png">
        <h3>超级会员</h3>
        <p>&#8226; 每月享超值权益</p>
    </div>
    <div class="right">
        立即开通 &gt;
    </div>
</div>
</template>
<!-- 推荐商家部分 -->
<template id="recommendTemp">
    <div class="recommendTemp">
        <div class="recommend-line"></div>
        <p>推荐商家</p>
        <div class="recommend-line"></div>
    </div>
</template>

<!--推荐方式-->
<template id="recommendTypeTemp">
    <div class="container-fluid recommendTypeTemp text-muted">
        <div class="row">
            <h7 class="col-3">综合排序<i class="fa fa-caret-down"></i></h7>
            <h7 class="col-3">距离最近</h7>
            <h7 class="col-3">销量最高</h7>
            <h7 class="col-3">筛选<i class="fa fa-filter"></i></h7>
        </div>
    </div>
</template>
<template id="mouTemp">
    <div class="mouTemp">
            <div slot="content" class="fixed-top">
                商户列表
            </div>
    </div>
</template>
<!--推荐商家列表部分-->
<template id="goTopTemp">
    <transition enter-active-class="animated fadeIn">
        <div class="gotTopTemp" v-show="topDistance>100" v-on:click="goTop">
            <i class="fa fa-arrow-circle-o-up"></i>
        </div>
    </transition>
</template>
<!--页面底部的主导航-->
<template id="mainNavTemp">
    <div class="container-fluid fixed-bottom mainNavTemp text-muted">
        <div class="row">
            <router-link to="/home">
                <h7 class="col-2 offset-2"><i class="fa fa-home"></i>首页</h7>
            </router-link>
            <router-link to="/mou">
                <h7 class="col-2"><i class="fa fa-compass"></i>发现</h7>
            </router-link>
            <h7 class="col-2"><i class="fa fa-home"></i>订单</h7>
            <router-link to="/zhuce">
            <h7 class="col-2"><i class="fa fa-home"></i>我的</h7>
            </router-link>
        </div>
    </div>
</template>
<template id="topBannerTemp">
    <div class="topBannerTemp">
        <slot name="loc"></slot>
        <slot name="content"></slot>
    </div>
</template>


<!--登录注册我的界面-->
<template id="dengLu">
    <div>
        <topbannercpn>

            <div slot="content" class="fixed-top">
                用户登录
            </div>
        </topbannercpn>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">手机号码：</span>
            </div>
            <input type="text" class="form-control" placeholder="请输入手机号">
        </div>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <span class="input-group-text">密码：</span>
            </div>
            <input type="password" class="form-control" placeholder="请输入密码">
        </div>
        <div class="container-fluid">
            <div class="row">
                <button type="submit" class="btn btn-success btn-lg col-10 offset-1" >登录</button>
            </div>
        </div>
        <br/>
        <router-link to="/zhuce">
            <div class="container-fluid">
                <div class="row">
                    <button type="submit" class="btn btn-primary btn-lg col-10 offset-1" >去注册</button>
                </div>
            </div>
        </router-link>
        <mainnavcpn></mainnavcpn>
        <gotopcpn></gotopcpn>
    </div>
</template>
<template id="zhuCe">
    <div>
        <topbannercpn>

            <div slot="content" class="fixed-top">
                用户注册
            </div>
        </topbannercpn>
        <form>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text">手机号码：</span>
                </div>
                <input type="tel" class="form-control" style="border: none"  placeholder="请输入手机号">
            </div>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text"> 输入密码：</span>
                </div>
                <input type="password" class="form-control" style="border: none" placeholder="请输入密码">
            </div>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text">确认密码：</span>
                </div>
                <input type="tel" class="form-control" style="border: none"  placeholder="请确认密码">
            </div>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text">用户姓名：</span>
                </div>
                <input type="password" class="form-control" style="border: none" placeholder="请输入您的用户名">
            </div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text">性别：</span>
                </div>
                <input type="radio" name="sex" checked style="width:4vw;height: 2.2vw;text-align: center">男
                <input type="radio" name="sex" style="width:4vw;height: 2.2vw;text-align: center">女
            </div>
            <router-link to="/denglu">
                <div class="container-fluid">
                    <div class="row">
                        <button type="submit" class="btn btn-primary btn-lg col-10 offset-1" >注册</button>
                    </div>
                </div>
            </router-link>


        </form>
        <mainnavcpn></mainnavcpn>
        <gotopcpn></gotopcpn>
    </div>
</template>

<!-- jQuery (Bootstrap 的 JavaScript 插件需要引入 jQuery) -->
<script src="js/jquery-3.3.1.js" ></script>
<!-- 包括所有已编译的插件 -->
<script src="js/bootstrap.js"></script>
<script src="js/vue.js"></script>
<script src="js/vue-resources.js"></script>
<script src="js/vue-router.js"></script>
<script src="js/custom.js"></script>
<script>
    //创建组件
    let homeCpn = Vue.extend({
        template:'#homeTemp',
        props:['ctypelists']
    });
    let mouCpn = Vue.extend({
        template:'#mouTemp',
    });
    let typeCpn = Vue.extend({
        template:'#typeTemp',
    });
    let bannerCpn = Vue.extend({
        template:'#bannerTemp',
    });
    let supermemberCpn = Vue.extend({
        template:'#supermemberTemp',
    });
    let recommendCpn = Vue.extend({
        template:'#recommendTemp',
    });
    let recommendTypeCpn = Vue.extend({
        template:'#recommendTypeTemp',
    });

    let mainNavCpn = Vue.extend({
        template:'#mainNavTemp'
    });
    let topBannerCpn = Vue.extend({
        template:'#topBannerTemp',

    });
    let goTopCpn = Vue.extend({
        template:'#goTopTemp',
        data:function (){
            return {
                topDistance : 0
            };
        },
        mounted(){
            window.addEventListener('scroll',this.getTopDistance);
        },
        methods:{
            getTopDistance:function (){
                this.topDistance = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset;
            },
            goTop:function (){
                let timeCounter = setInterval(function (){
                    if(document.documentElement.scrollTop>0||document.body.scrollTop>0||window.pageYOffset>0) {
                        document.documentElement.scrollTop -= 10;
                        document.body.scrollTop -= 10;
                        window.pageYOffset -= 10;
                    } else {
                        clearInterval(timeCounter);
                    }
                },5,false);
            }
        }
    });


    //登录注册界面创建组件
    let dengLuCpn = Vue.extend({
        template:'#dengLu',
    });
    let zhuCeCpn = Vue.extend({
        template:'#zhuCe',
    });

    //注册组件
    let mainnavcpn = Vue.component('mainnavcpn',mainNavCpn);
    let homecpn = Vue.component('homecpn',homeCpn);
    let moucpn = Vue.component('moucpn',mouCpn);
    let typecpn = Vue.component('typecpn',typeCpn);
    let bannercpn = Vue.component('bannercpn',bannerCpn);
    let supermembercpn = Vue.component('supermembercpn',supermemberCpn);
    let recommendcpn = Vue.component('recommendcpn',recommendCpn);

    let recommendtypecpn = Vue.component('recommendtypecpn',recommendTypeCpn);
    let gotopcpn = Vue.component('gotopcpn',goTopCpn);
    let topbannercpn = Vue.component('topbannercpn',topBannerCpn);


    //登录界面注册组件
    let zhucecpn = Vue.component('zhucecpn',zhuCeCpn);
    let denglucpn = Vue.component('denglucpn',dengLuCpn);

    //配置路由
    let routers = [
        {path:'/home',component:homeCpn},
        {path:'/mou',component:mouCpn},
        {path:'/',component:homeCpn},
        {path:'/denglu',component:dengLuCpn},
        {path:'/zhuce',component:zhuCeCpn},
        {path:'*',redirect:'/home'},
    ];
    //生成路由实例
    let myrouter = new VueRouter({
        routes:routers
    });

    // let globalGood;
    const vm = new Vue({
        el:"#app",/*使用选择器匹配对应的模板视图,getElementById, querySelector('#vm')*/
        data:{
            typeLists:[]
        },
        router:myrouter,
        mounted(){
            this.$http.get("goods.json").then(
                function (res){
                    this.typeLists = res.body.dataZone.typeLists;
                }
            );
        }
    });

    //jQuery实现
    $(document).ready(function (){
        $(window).scroll(function (){
            console.log($(window).scrollTop());
        });
    });


    //调用数据时,有几个特殊的内置变量
    //    $event    $http     $parent       $root(根组件)
</script>
</body>
</html>